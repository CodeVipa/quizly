<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login â€“ Quizly</title>

    <link rel="stylesheet" href="../src/style.css">
    <link rel="stylesheet" href="../src/login.css">
    <script type="module" src="../src/script/login-page.js"></script>
</head>
<body>

     <div class="container">
        <div class="curved-shape"></div>
        <div class="curved-shape2"></div>

        <!-- LOGIN FORM -->
        <div id="loginForm" class="form-box Login">
            <h2 class="animation" style="--D:1">Login</h2>

            <form onsubmit="handleSubmit(event)">
                <div class="input-box animation" style="--D:2">
                    <input type="text" required id="username">
                    <label for="username">Username</label>
                    <i class="bx bxs-user"></i>
                </div>

                <div class="input-box animation" style="--D:3">
                    <input type="password" required id="password">
                    <label for="password">Password</label>
                    <i class="bx bxs-lock-alt"></i>
                </div>

                <div class="input-box animation" style="--D:4">
                    <button class="btn" type="submit">Login</button>
                </div>
                <p class="form-error" id="error-msg" style="color: red;"></p>

                <div class="regi-link animation" style="--D:5">
                    <p>
                      Donâ€™t have an account?
                      <a href="#" class="SignUpLink">Sign Up</a>
                    </p>
                </div>
            </form>
            <div id="choice-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:white; padding:40px; border-radius:10px; box-shadow: 0 0 20px rgba(0,0,0,0.5); text-align:center; z-index:100;">
    <h2>Registration Successful! ðŸŽ‰</h2>
    <p>Choose your next step:</p>
    <button onclick="handleChoice('learn')" style="margin-right:10px;">Learn</button>
    <button onclick="handleChoice('quiz')">Start Quiz</button>
</div>
        </div>

        <!-- LOGIN INFO -->
        <div class="info-content Login">
                        <h1 class="animation text-3xl font-extrabold tracking-tight text-primary drop-shadow-lg mb-2"
                style="--li:16; --S:0">
              Quizly
            </h1>
            <h2 class="animation" style="--D:0">WELCOME BACK</h2>
            <p class="animation" style="--D:1">
              Continue your learning journey with Quizly. Pick up where you left
              off, sharpen your knowledge, and master topics.
            </p>
        </div>

        <!-- REGISTER FORM -->
        <div id="registerForm" class="form-box Register">
            <h2 class="animation" style="--li:17; --S:1">Register</h2>

            <form action="#">
                <div class="input-box animation" style="--li:18; --S:2">
                    <input type="text" required>
                    <label for="username">Username</label>
                    <i class="bx bxs-user"></i>
                </div>

                <div class="input-box animation" style="--li:19; --S:3">
                    <input type="text" required>
                    <label for="email">Email</label>
                    <i class="bx bxs-email"></i>
                </div>

                <div class="input-box animation" style="--li:20; --S:4">
                    <input type="password" required>
                    <label for="password">Password</label>
                    <i class="bx bxs-lock-alt"></i>
                </div>

                <div class="input-box animation" style="--li:21; --S:5">
                    <button class="btn" type="submit" onclick="handlesubmit()">Register</button>
                </div>
                <p class="form-error"></p>

                <div class="regi-link animation" style="--li:22; --S:6">
                    <p>
                      Already have an account?
                      <a href="#" class="SignInLink">Sign In</a>
                    </p>
                </div>
            </form>
        </div>

        <!-- REGISTER INFO -->
        <div class="info-content Register">
            <h1 class="animation text-3xl font-extrabold tracking-tight text-primary drop-shadow-lg mb-2"
            style="--li:16; --S:0">
            Quizly
            </h1>
            <h2 class="animation" style="--li:17; --S:0">JOIN QUIZLY</h2>
            <p class="animation" style="--li:18; --S:1">
              Learn faster. Retain more. Quizly helps you master knowledge using
              short, interactive quizzes â€” perfect for exam prep, daily
              learning, and real mastery.
            </p>
        </div>
     </div>

     <script>
      const container = document.querySelector(".container");
      const LoginLink = document.querySelector('.SignInLink');
      const RegisterLink = document.querySelector('.SignUpLink');
      const usernameInput = document.getElementById("username");
      const passwordInput =document.getElementById("password");
      const errorMsg = document.getElementById("error-msg");
      const modal = document.getElementById("choice-modal");

      RegisterLink.addEventListener("click", () => {
          container.classList.add("active");
      });

      LoginLink.addEventListener("click", () => {
          container.classList.remove("active");
      });
      function handlesubmit(e){
        e.preventDefault();
        const username = usernameInput.value;
        const password = passwordInput.value;
if(username.length < 4){
    errorMsg.innerText ="username too short!";
    return
}
const userObj = {
    name:username,
    isRegistered:true
};
localStorage.setItem("currentUser",JSON.stringify(userObj))
showPopUp();

      }
     </script>

</body>
</html>
